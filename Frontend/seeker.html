<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Blood</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white shadow-lg rounded-lg p-8 max-w-md w-full">
        <h2 class="text-2xl font-bold text-center text-red-600 mb-4">Request Blood</h2>
        <form id="bloodRequestForm" class="space-y-4">
            <div>
                <label class="block text-gray-700">Patient Name</label>
                <input type="text" id="name" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500" required>
            </div>
            <div>
                <label class="block text-gray-700">Email</label>
                <input type="email" id="email" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500" required>
            </div>
            <div>
                <label class="block text-gray-700">Phone Number</label>
                <input type="tel" id="phone" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500" required>
            </div>
            <div>
                <label class="block text-gray-700">Blood Group</label>
                <select id="bloodGroup" class="w-full border-gray-400 rounded-md shadow-lg p-2 focus:ring-red-500 focus:border-red-500" required>
                    <option value="">Select Blood Group</option>
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                </select>
            </div>
            <div>
                <label class="block text-gray-700">Location</label>
                <input type="text" id="location" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500" required>
            </div>
            <div>
                <label class="block text-gray-700">Severity/Disease</label>
                <select id="severity" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500" required onchange="toggleOtherInput()">
                    <option value="">Select Reason</option>
                    <option value="Accident">Accident</option>
                    <option value="Surgery">Surgery</option>
                    <option value="Cancer">Cancer</option>
                    <option value="Anemia">Anemia</option>
                    <option value="Pregnancy Complication">Pregnancy Complication</option>
                    <option value="Thalassemia">Thalassemia</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="otherSeverity" class="w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-red-500 focus:border-red-500 mt-2 hidden" placeholder="Specify other reason">
            </div>
            <button type="button" onclick="submitRequest()" class="w-full bg-red-600 text-white p-2 rounded-md hover:bg-red-700">Request Blood</button>
        </form>
        <p id="responseMessage" class="text-green-600 text-center mt-4 hidden">Request submitted successfully!</p>
    </div>

    <script>
        function toggleOtherInput() {
            let severity = document.getElementById("severity").value;
            let otherInput = document.getElementById("otherSeverity");
            
            if (severity === "Other") {
                otherInput.classList.remove("hidden");
                otherInput.setAttribute("required", "true");
            } else {
                otherInput.classList.add("hidden");
                otherInput.removeAttribute("required");
            }
        }

        function submitRequest() {
            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;
            let phone = document.getElementById("phone").value;
            let bloodGroup = document.getElementById("bloodGroup").value;
            let location = document.getElementById("location").value;
            let severity = document.getElementById("severity").value;
            let otherSeverity = document.getElementById("otherSeverity").value;
            
            if (severity === "Other" && !otherSeverity) {
                alert("Please specify the other Severity.");
                return;
            }

            if (name && email && phone && bloodGroup && location && severity) {
                document.getElementById("responseMessage").classList.remove("hidden");
                document.getElementById("bloodRequestForm").reset();
                toggleOtherInput();
            } else {
                alert("Please fill in all fields.");
            }
        }
    </script>
</body>
</html>
